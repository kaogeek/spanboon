<!--
    @license Spanboon Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author:  p-nattawadee <nattawdee.l@absolute.co.th>, Chanachai-Pansailom <chanachai.p@absolute.co.th>, Americaso <treerayuth.o@absolute.co.th>
-->

<div class="manage-page">
    <!-- <div class="manage-page"(click)="searchAllPage()"> -->
    <div class="listPage" (click)="drawer.toggle(); clickMenu();">
        <svg class="btn-listPage" [class.active]="drawer.opened" xmlns="http://www.w3.org/2000/svg" width="22"
            height="18" viewBox="0 0 22 18">
            <g id="Group_226" data-name="Group 226" transform="translate(0.326 -0.341)">
                <rect id="Rectangle_46" data-name="Rectangle 46" width="14" height="4" rx="2"
                    transform="translate(-0.326 0.341)" fill="#474747" />
                <rect id="Rectangle_47" data-name="Rectangle 47" width="22" height="4" rx="2"
                    transform="translate(-0.326 7.341)" fill="#474747" />
                <rect id="Rectangle_48" data-name="Rectangle 48" width="19" height="4" rx="2"
                    transform="translate(-0.326 14.341)" fill="#474747" />
            </g>
        </svg>
    </div>
    <mat-drawer-container [class.active]="drawer.opened" (click)="hideScroll()" [hasBackdrop]="false">
        <mat-drawer #drawer [mode]="'over'" [position]="'end'">
            <div class="list-page" (scroll)="onScrollCreatePage($event)">
                <div class="wrapper-header-list">
                    <div class="page-name-div">
                        เพจของคุณ
                    </div>
                    <div class="btn-create-page" (click)="createPage()">
                        <span class="material-icons add-page">
                            add
                        </span>
                        <span>สร้างเพจ</span>
                    </div>
                </div>
                <ng-container *ngIf="resListPage; else elseListTemplate">
                    <div class="box-list-page">
                        <div class="wrapper-list-page" *ngFor="let item of resListPage" (click)="drawer.toggle()">
                            <div class="list-page" (click)="nextPage(item)">
                                <ng-container
                                    *ngIf="item.page && item.page.imageURL && item.page.imageURL !== ''; else elseImg">
                                    <div class="image-page">
                                        <img class="img"
                                            [src]="item.page.signURL?item.page.signURL:item.page.imageSignURL?item.page.imageSignURL:apiBaseURL+item.page.imageURL+'/image'">
                                    </div>
                                </ng-container>
                                <ng-template #elseImg>
                                    <div class="image-page">
                                        <img class="img" src="../../../assets/img/profile.svg">
                                    </div>
                                </ng-template>
                                <div class="wrapper-message">
                                    <svg *ngIf="item.page && item.page.isOfficial" class="offical-page" id="shield"
                                        xmlns="http://www.w3.org/2000/svg" width="43.383" height="47.208"
                                        viewBox="0 0 43.383 47.208">
                                        <g id="Group_88" data-name="Group 88" transform="translate(0)">
                                            <path id="Path_141" data-name="Path 141"
                                                d="M80.238,10.479,80.176,9,78.7,8.849a37.223,37.223,0,0,1-13.6-4.359A35.538,35.538,0,0,1,59.664.934L58.559,0,57.453.933A35.531,35.531,0,0,1,52.011,4.49a37.223,37.223,0,0,1-13.6,4.359L36.941,9l-.063,1.479a45.081,45.081,0,0,0,2.181,14.207,39.126,39.126,0,0,0,6.152,12,34.37,34.37,0,0,0,12.61,10.17l.737.352.737-.352a34.369,34.369,0,0,0,12.61-10.17,39.124,39.124,0,0,0,6.152-12A45.083,45.083,0,0,0,80.238,10.479ZM58.558,43.4a30.892,30.892,0,0,1-10.589-8.746,35.649,35.649,0,0,1-5.614-10.9,44.17,44.17,0,0,1-2.047-11.7,38.062,38.062,0,0,0,6.837-1.69,43.758,43.758,0,0,0,6.581-2.916A42.634,42.634,0,0,0,58.558,4.4a42.641,42.641,0,0,0,4.832,3.05,43.752,43.752,0,0,0,6.581,2.916A38.061,38.061,0,0,0,76.81,12.06,43.991,43.991,0,0,1,74.8,23.648,35.716,35.716,0,0,1,69.188,34.6,30.891,30.891,0,0,1,58.558,43.4Z"
                                                transform="translate(-36.867)" class="svg-icon-home-color" />
                                            <path id="Path_142" data-name="Path 142"
                                                d="M290.734,305.016l-2.388,2.388-8.9,8.9-4.51-4.51-.613-.613-1.21,1.21h0l-1.21,1.21,7.544,7.544,13.707-13.707Z"
                                                transform="translate(-259.715 -289.198)" class="svg-icon-home-color" />
                                        </g>
                                    </svg>
                                    <div class="con-text-name">
                                        {{item.page && item.page.name}}
                                    </div>
                                    <!-- <div class="wrapper-page-name-eng">
                                    @Move
                                </div> -->
                                </div>
                            </div>
                            <div class="wrapper-option" (click)="clickSetting(item)">
                                <svg id="filter" xmlns="http://www.w3.org/2000/svg" width="20.091" height="20.091"
                                    viewBox="0 0 20.091 20.091">
                                    <path id="filter-2" data-name="filter"
                                        d="M20.091,1.256V3.767H7.157a2.442,2.442,0,0,1-4.269,0H0V1.256H2.888a2.442,2.442,0,0,1,4.269,0ZM15.068,7.534A2.431,2.431,0,0,0,12.933,8.79H0V11.3H12.933a2.442,2.442,0,0,0,4.269,0h2.888V8.79H17.2A2.431,2.431,0,0,0,15.068,7.534Zm-5.023,7.534a2.431,2.431,0,0,0-2.135,1.256H0v2.511H7.911a2.442,2.442,0,0,0,4.269,0h7.911V16.324H12.18A2.431,2.431,0,0,0,10.045,15.068Z" />
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="wrapper-page-create" [ngClass]="isScrollingCreatePage ? 'show-shadow' : 'hide-shadow'">
                        <div class="title-page-create">
                            สร้างเพจจาก
                        </div>
                        <div class = "social-list-page">
                            <button-social class="button-social" [btnName]="'Facebook'" [height]="'34pt'" [fontSize]="'18px'"
                            [iconSocial]="'../../../../assets/img/facebook-logo.svg'" [bgColor]="'#2851a3'" [imgsize]="'20pt'"
                            [color]="'#F8F7F2'" (click)="clickLoginFB()" [param]="{mode: 'facebook'}"></button-social>
            
                        <button-social class="button-social" [btnName]="'Twitter'" [height]="'34pt'" [fontSize]="'18px'"
                            [iconSocial]="'../../../../assets/img/twitter.svg'" [bgColor]="'#1da1f3'" [imgsize]="'20pt'"
                            [color]="'#F8F7F2'" (click)="clickSyncTw('twitter',connectTwitter)" [param]="{mode: 'twitter'}">
                        </button-social>
                        </div>
                    </div>
                </ng-container>
                <ng-template #elseListTemplate>
                    <div class="wrapper-list-page page-none">
                        <span class="logo-img">
                            <svg id="Group_142" data-name="Group 142" xmlns="http://www.w3.org/2000/svg" width="67.553"
                                height="33.8" viewBox="0 0 67.553 33.8">
                                <circle id="Ellipse_89" data-name="Ellipse 89" cx="3.753" cy="3.753" r="3.753"
                                    transform="translate(60.047 11.275)" fill="#a2a2a2" />
                                <circle id="Ellipse_90" data-name="Ellipse 90" cx="3.753" cy="3.753" r="3.753"
                                    transform="translate(0 11.275)" fill="#a2a2a2" />
                                <circle id="Ellipse_91" data-name="Ellipse 91" cx="3.753" cy="3.753" r="3.753"
                                    transform="translate(30.024)" fill="#a2a2a2" />
                                <path id="Path_201" data-name="Path 201"
                                    d="M187.761,979.776c-.008-13.128-15.127-23.769-33.776-23.769s-33.769,10.64-33.777,23.769h3.35a3.752,3.752,0,0,1,7.5,0h6.659V968.053a6.255,6.255,0,0,1,12.509,0v11.723h7.5V968.053a6.255,6.255,0,0,1,12.51,0v11.723h6.607v-.007a3.753,3.753,0,1,1,7.506,0v.007Z"
                                    transform="translate(-120.208 -945.977)" fill="#a2a2a2" />
                            </svg>
                        </span>
                        ไม่พบเพจ
                    </div>
                    <div class="wrapper-page-create" [ngStyle]="{'box-shadow': isScrollingCreatePage ? '0px -2px 10px -3px rgba(0,0,0,0.2)' : ''}">
                        <div class="title-page-create">
                            สร้างเพจจาก
                        </div>
                        <div class = "social-list-page">
                            <button-social class="button-social" [btnName]="'Facebook'" [height]="'34pt'" [fontSize]="'18px'"
                            [iconSocial]="'../../../../assets/img/facebook-logo.svg'" [bgColor]="'#2851a3'" [imgsize]="'20pt'"
                            [color]="'#F8F7F2'" (click)="clickLoginFB()" [param]="{mode: 'facebook'}"></button-social>
            
                        <button-social class="button-social" [btnName]="'Twitter'" [height]="'34pt'" [fontSize]="'18px'"
                            [iconSocial]="'../../../../assets/img/twitter.svg'" [bgColor]="'#1da1f3'" [imgsize]="'20pt'"
                            [color]="'#F8F7F2'" (click)="clickSyncTw('twitter',connectTwitter)" [param]="{mode: 'twitter'}">
                        </button-social>
                        </div>
                    </div>
                </ng-template>
            </div>
        </mat-drawer>
        <mat-drawer-content>
            <div class="wrapper-mat-backdrop" *ngIf="drawer.opened" (click)="drawer.toggle()">
                <div class="mat-backdrop"></div>
            </div>
        </mat-drawer-content>
    </mat-drawer-container>
</div>