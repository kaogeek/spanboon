<!--
    @license Spanboon Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author:  p-nattawadee <nattawdee.l@absolute.co.th>, Chanachai-Pansailom <chanachai.p@absolute.co.th>, Americaso <treerayuth.o@absolute.co.th>
-->

<div *ngIf="!showLoading" class="post-card">
    <div class="post-card-header">
        <div class="page-name">
            <a class="sup-name-page" href={{linkPage}} target="_blank">
                <ng-container *ngIf="isOfficial">
                    <svg class="icon-time" xmlns="http://www.w3.org/2000/svg" width="31.551" height="22.29"
                        viewBox="0 0 31.551 22.29">
                        <g id="Group_711" data-name="Group 711" transform="translate(-1533.751 -2071.08)">
                            <circle id="Ellipse_248" data-name="Ellipse 248" cx="2.701" cy="2.701" r="2.701"
                                transform="translate(1547.034 2071.08)" fill="#FD545A" />
                            <circle id="Ellipse_249" data-name="Ellipse 249" cx="2.701" cy="2.701" r="2.701"
                                transform="translate(1533.751 2074.156)" fill="#FD545A" />
                            <circle id="Ellipse_250" data-name="Ellipse 250" cx="2.701" cy="2.701" r="2.701"
                                transform="translate(1559.899 2073.946)" fill="#FD545A" />
                            <path id="Rectangle_406" data-name="Rectangle 406"
                                d="M0,0H21.094a0,0,0,0,1,0,0V0A3.454,3.454,0,0,1,17.64,3.454H3.454A3.454,3.454,0,0,1,0,0V0A0,0,0,0,1,0,0Z"
                                transform="translate(1539.172 2089.916)" fill="#FD545A" />
                            <path id="Path_544" data-name="Path 544"
                                d="M1615.843,2164.343l-2.11,1.241a1.7,1.7,0,0,1-2.1-.294l-1.849-1.945a4.312,4.312,0,0,0-3.056-1.339h-.057a4.312,4.312,0,0,0-3.056,1.339l-1.849,1.945a1.7,1.7,0,0,1-2.1.294l-2.11-1.241a1.7,1.7,0,0,0-2.533,1.787l1.263,6.571h2.842v-.893a2.524,2.524,0,1,1,5.049,0v.893h5.035v-.893a2.524,2.524,0,1,1,5.049,0v.893h2.843l1.263-6.571A1.7,1.7,0,0,0,1615.843,2164.343Z"
                                transform="translate(-56.967 -84.568)" fill="#FD545A" />
                        </g>
                    </svg>
                </ng-container>
                <span>{{username}}</span>
            </a>
        </div>
        <a href={{linkPost}} target="_blank">
            <div class="date-time">
                <svg class="icon-time" height="512pt" viewBox="0 0 512 512" width="512pt"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="m256 512c-141.164062 0-256-114.835938-256-256s114.835938-256 256-256 256 114.835938 256 256-114.835938 256-256 256zm0-480c-123.519531 0-224 100.480469-224 224s100.480469 224 224 224 224-100.480469 224-224-100.480469-224-224-224zm0 0"
                        fill="#A5A5A6" />
                    <path
                        d="m368 394.667969c-4.097656 0-8.191406-1.558594-11.308594-4.695313l-112-112c-3.007812-3.007812-4.691406-7.082031-4.691406-11.304687v-149.335938c0-8.832031 7.167969-16 16-16s16 7.167969 16 16v142.699219l107.308594 107.308594c6.25 6.25 6.25 16.382812 0 22.632812-3.117188 3.136719-7.210938 4.695313-11.308594 4.695313zm0 0 "
                        fill="#A5A5A6" />
                </svg>
                <span>{{create}}</span>
            </div>
        </a>
    </div>
    <div class="post-card-body">
        <div class="wrapper-image-post">
            <img *ngIf="images" class="image-post" [src]="images" alt="">
            <div *ngIf="!images" class="image-post card-post">
                <svg style="width: 120pt;height: 120pt;" class="icon-spanboon" id="Group_227" data-name="Group 227"
                    xmlns="http://www.w3.org/2000/svg" width="59.073" height="29.556" viewBox="0 0 59.073 29.556">
                    <g id="Group_133" data-name="Group 133" transform="translate(0 0)">
                        <g id="Group_132" data-name="Group 132">
                            <circle id="Ellipse_83" data-name="Ellipse 83" cx="3.282" cy="3.282" r="3.282"
                                transform="translate(52.509 9.86)" fill="#FD545A" />
                            <circle id="Ellipse_84" data-name="Ellipse 84" cx="3.282" cy="3.282" r="3.282"
                                transform="translate(0 9.86)" fill="#FD545A" />
                            <circle id="Ellipse_85" data-name="Ellipse 85" cx="3.282" cy="3.282" r="3.282"
                                transform="translate(26.255)" fill="#FD545A" />
                            <path id="Path_192" data-name="Path 192"
                                d="M1489.264,704.882c-.007-11.48-13.228-20.785-29.536-20.785s-29.53,9.3-29.536,20.785h2.929a3.281,3.281,0,0,1,6.563,0h5.824V694.631a5.47,5.47,0,0,1,10.94,0v10.251H1463V694.631a5.47,5.47,0,1,1,10.939,0v10.251h5.779v-.006a3.282,3.282,0,0,1,6.564,0v.006Z"
                                transform="translate(-1430.191 -675.326)" fill="#FD545A" />
                        </g>
                    </g>
                </svg>
            </div>
            <control-action (submit)="action($event)" [userLike]="userLike" [userReboon]="userReboon"
                [userComment]="userComment" [comment]="comment" [isWhite]="isWhite" [reboon]="reboon" [like]="like"
                [share]="share" [isAction]="isAction" [marginPerAction]="marginPerAction"
                [widthBtnAction]="widthBtnAction" class="wrapper-btn-action">
            </control-action>
        </div>
        <div class="wrapper-content-post">
            <div class="title-post" #titleDiv style="position: relative;" (mousemove)="onMouseEnter($event, titleDiv)">
                <div matTooltipShowDelay="{{800}}" matTooltip="{{title}}" class="TooltipShow"
                    [ngStyle]="{'position': 'absolute','top': ganY,'left': ganX}">
                </div>
                {{title}}
            </div>
            <div class="content-post" #contentDiv style="position: relative;"
                (mousemove)="onMouseEnter($event, contentDiv)">
                <div matTooltipShowDelay="{{800}}" matTooltip="{{content}}" class="TooltipShow"
                    [ngStyle]="{'position': 'absolute','top': ganY,'left': ganX}">
                </div>
                {{content | slice:0:100}}
            </div>
            <div class="wrapper-footer-fulfill">
                <div class="footer-post">
                    <div class="left">
                        คนที่เคยเติมเต็มให้กับ
                    </div>
                    <div class="right" #pageNameDiv style="position: relative;"
                        (mousemove)="onMouseEnter($event, pageNameDiv)" #showTooltip
                        (mouseover)="Tooltip(showTooltip , data)">
                        <div matTooltipShowDelay="{{800}}" matTooltip="{{pageName}}" class="TooltipShow"
                            [ngStyle]="{'position': 'absolute','top': ganY,'left': ganX}">
                        </div>
                        <svg class="icon-offical-post-card" id="shield" xmlns="http://www.w3.org/2000/svg"
                            width="43.383" height="47.208" viewBox="0 0 43.383 47.208" *ngIf="isOfficial">
                            <g id="Group_88" data-name="Group 88" transform="translate(0)">
                                <path id="Path_141" data-name="Path 141"
                                    d="M80.238,10.479,80.176,9,78.7,8.849a37.223,37.223,0,0,1-13.6-4.359A35.538,35.538,0,0,1,59.664.934L58.559,0,57.453.933A35.531,35.531,0,0,1,52.011,4.49a37.223,37.223,0,0,1-13.6,4.359L36.941,9l-.063,1.479a45.081,45.081,0,0,0,2.181,14.207,39.126,39.126,0,0,0,6.152,12,34.37,34.37,0,0,0,12.61,10.17l.737.352.737-.352a34.369,34.369,0,0,0,12.61-10.17,39.124,39.124,0,0,0,6.152-12A45.083,45.083,0,0,0,80.238,10.479ZM58.558,43.4a30.892,30.892,0,0,1-10.589-8.746,35.649,35.649,0,0,1-5.614-10.9,44.17,44.17,0,0,1-2.047-11.7,38.062,38.062,0,0,0,6.837-1.69,43.758,43.758,0,0,0,6.581-2.916A42.634,42.634,0,0,0,58.558,4.4a42.641,42.641,0,0,0,4.832,3.05,43.752,43.752,0,0,0,6.581,2.916A38.061,38.061,0,0,0,76.81,12.06,43.991,43.991,0,0,1,74.8,23.648,35.716,35.716,0,0,1,69.188,34.6,30.891,30.891,0,0,1,58.558,43.4Z"
                                    transform="translate(-36.867)" fill="#28a745" />
                                <path id="Path_142" data-name="Path 142"
                                    d="M290.734,305.016l-2.388,2.388-8.9,8.9-4.51-4.51-.613-.613-1.21,1.21h0l-1.21,1.21,7.544,7.544,13.707-13.707Z"
                                    transform="translate(-259.715 -289.198)" fill="#28a745" />
                            </g>
                        </svg>
                        <a href={{linkPage}} target="_blank">
                            <div class="post-card-page-name">
                                {{pageName | slice :0 : 30}}
                                <ng-container *ngIf="pageName.length > 30">
                                    <span style="display: contents;">...</span>
                                </ng-container>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="wrapper-offical">
                    <div class="list-donator">
                        <ng-container *ngIf="data && data.followUsers !== undefined">
                            <ng-container *ngFor="let item of data.followUsers; let index = index">
                                <a class="donator" target="_blank"
                                    href="{{mainProfileLink}}{{(item.uniqueId === null || item.uniqueId === undefined || item.uniqueId === '') ? item.id : item.uniqueId}}"
                                    matTooltip="{{item.firstName}}" *ngIf="index < 2"
                                    [ngStyle]="{'background-color': !item.avatar ? '#FD545A' : unset}">
                                    <ng-container *ngIf="item.avatar; else elseAvatar">
                                        <img *ngIf="item.avatar" [src]="item.avatar">
                                    </ng-container>
                                    <ng-template #elseAvatar>
                                        <span>{{item.displayName | slice: 0:1 }}</span>
                                    </ng-template>
                                </a>
                            </ng-container>
                            <ng-container *ngIf="data.followUsers.length > 2;">
                                <div class="donator" style="background-color: rgb(253, 84, 90,0.8);">
                                    <span>+{{data.followUsers.length-2}}</span>
                                </div>
                            </ng-container>
                        </ng-container>
                    </div>
                    <a href={{linkPost}} target="_blank">
                        <spanboon-button class="btn-donate" [bgColor]="'#7AAF67'" [color]="'#FFFFFF'"
                            [text]="butNeeds ? 'ร่วมเติมเต็ม' : 'อ่านโพสต์'" [radius]="'6px'" [fontSize]="'14px'" [height]="'28pt'"
                            [width]="'70pt'"></spanboon-button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<Preload-card *ngIf="showLoading" [isShowCard1]="true" [isShowCard2]="false">
</Preload-card>