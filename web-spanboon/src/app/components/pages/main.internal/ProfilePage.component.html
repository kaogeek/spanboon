<!--
    @license Spanboon Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author:  p-nattawadee <nattawdee.l@absolute.co.th>, Chanachai-Pansailom <chanachai.p@absolute.co.th>, Americaso <treerayuth.o@absolute.co.th>
-->

<ng-container *ngIf="!msgUserNotFound; else elsePageNotFound">
    <div class="profile-timeline-page">
        <div class="container">
            <div class="wrapper-profile-page">
                <div class="menu-left">
                    <ng-container *ngIf="isLogin()">
                        <ng-container *ngIf="!showLoading; else elseTemplateLoadMenu">
                            <div class="setting" [routerLink]="checkUniqueId()" [routerLinkActive]="['active-link']">
                                <svg class="icon" id="social-media" xmlns="http://www.w3.org/2000/svg" width="19.257"
                                    height="19.257" viewBox="0 0 19.257 19.257">
                                    <g id="Group_403" data-name="Group 403" transform="translate(0 13.855)">
                                        <g id="Group_402" data-name="Group 402">
                                            <circle id="Ellipse_155" data-name="Ellipse 155" cx="2.698" cy="2.698"
                                                r="2.698" fill="#a2a2a2" />
                                        </g>
                                    </g>
                                    <g id="Group_406" data-name="Group 406">
                                        <g id="Group_405" data-name="Group 405">
                                            <g id="Group_404" data-name="Group 404">
                                                <path id="Path_266" data-name="Path 266"
                                                    d="M0,120.64v3.5a8.753,8.753,0,0,1,8.75,8.75h3.5A12.256,12.256,0,0,0,0,120.64Z"
                                                    transform="translate(0 -113.641)" fill="#a2a2a2" />
                                                <path id="Path_267" data-name="Path 267"
                                                    d="M0,0V3.5A15.755,15.755,0,0,1,15.754,19.257h3.5A19.262,19.262,0,0,0,0,0Z"
                                                    fill="#a2a2a2" />
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                                <div class="name">
                                    ไทมไลน์
                                </div>
                            </div>
                            <!-- <div class="setting" [routerLink]="'/account/settings'"> -->
                            <!-- <div class="setting" (click)="showAlertDevelopDialog()">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="16.334" height="16.773"
                                    viewBox="0 0 16.334 16.773">
                                    <g id="tools-and-utensils" transform="translate(-6.71)" opacity="0.34">
                                        <g id="Group_401" data-name="Group 401" transform="translate(6.71)">
                                            <path id="Path_265" data-name="Path 265"
                                                d="M22.761,10.225,21.219,9.019a6.071,6.071,0,0,0,.036-.633,5.887,5.887,0,0,0-.036-.633l1.543-1.206a.756.756,0,0,0,.182-.963l-1.6-2.774a.743.743,0,0,0-.927-.333l-1.819.73A6.237,6.237,0,0,0,17.5,2.573L17.226.643A.742.742,0,0,0,16.485,0H13.27a.74.74,0,0,0-.739.637l-.277,1.937a6.43,6.43,0,0,0-1.09.634L9.339,2.475a.758.758,0,0,0-.92.328L6.813,5.581a.751.751,0,0,0,.182.968L8.537,7.754a5.53,5.53,0,0,0,0,1.266L6.994,10.226a.756.756,0,0,0-.182.963l1.6,2.774a.742.742,0,0,0,.927.333l1.819-.73a6.292,6.292,0,0,0,1.092.634l.277,1.929a.742.742,0,0,0,.741.644h3.215a.741.741,0,0,0,.74-.637L17.5,14.2a6.46,6.46,0,0,0,1.09-.635l1.824.732a.751.751,0,0,0,.274.052.738.738,0,0,0,.646-.379l1.61-2.789A.754.754,0,0,0,22.761,10.225Zm-7.883.957a2.8,2.8,0,1,1,2.8-2.8A2.8,2.8,0,0,1,14.878,11.182Z"
                                                transform="translate(-6.71)" />
                                        </g>
                                    </g>
                                </svg>
                                <div class="name">
                                    จัดการบัญชี
                                </div>
                            </div>
                            <div class="setting" (click)="showAlertDevelopDialog()">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="18.722" height="20.424"
                                    viewBox="0 0 18.722 20.424">
                                    <g id="musical-instrument" transform="translate(0 0)">
                                        <path id="Path_261" data-name="Path 261"
                                            d="M358.529,24.617a.851.851,0,0,1-.851-.851,8.879,8.879,0,0,0-2.617-6.319.851.851,0,0,1,1.2-1.2,10.567,10.567,0,0,1,3.115,7.522.851.851,0,0,1-.851.851Zm0,0"
                                            transform="translate(-340.658 -15.357)" fill="#a2a2a2" />
                                        <path id="Path_262" data-name="Path 262"
                                            d="M.851,24.617A.851.851,0,0,1,0,23.767a10.568,10.568,0,0,1,3.115-7.522.851.851,0,1,1,1.2,1.2A8.877,8.877,0,0,0,1.7,23.767a.851.851,0,0,1-.851.851Zm0,0"
                                            transform="translate(0 -15.357)" fill="#a2a2a2" />
                                        <path id="Path_263" data-name="Path 263"
                                            d="M37.824,14.393A5.7,5.7,0,0,1,35.8,10.032V7.659a5.962,5.962,0,0,0-5.106-5.889V.851a.851.851,0,0,0-1.7,0v.919a5.961,5.961,0,0,0-5.106,5.889v2.373A5.706,5.706,0,0,1,21.853,14.4a1.489,1.489,0,0,0,.968,2.62H36.863a1.489,1.489,0,0,0,.961-2.627Zm0,0"
                                            transform="translate(-20.481)" fill="#a2a2a2" />
                                        <path id="Path_264" data-name="Path 264"
                                            d="M159.415,450.553A3.2,3.2,0,0,0,162.542,448h-6.253A3.2,3.2,0,0,0,159.415,450.553Zm0,0"
                                            transform="translate(-150.055 -430.129)" fill="#a2a2a2" />
                                    </g>
                                </svg>
                                <div class="name">
                                    การแจ้งเตือน
                                </div>
                            </div> -->
                            <div class="setting" (click)="logout()">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="17.437" height="15.257"
                                    viewBox="0 0 17.437 15.257">
                                    <g id="signs" transform="translate(0 -31.998)" opacity="0.34">
                                        <g id="Group_398" data-name="Group 398" transform="translate(0 33.088)">
                                            <g id="Group_397" data-name="Group 397">
                                                <path id="Path_259" data-name="Path 259"
                                                    d="M11.988,71.664V75.99H2.18V66.182H5.449V64H1.09A1.09,1.09,0,0,0,0,65.092V77.079a1.089,1.089,0,0,0,1.09,1.09H13.077a1.089,1.089,0,0,0,1.09-1.09V71.664Z"
                                                    transform="translate(0 -64.002)" />
                                            </g>
                                        </g>
                                        <g id="Group_400" data-name="Group 400" transform="translate(4.359 31.998)">
                                            <g id="Group_399" data-name="Group 399">
                                                <path id="Path_260" data-name="Path 260"
                                                    d="M140.859,35.377,136.5,32.108a.545.545,0,0,0-.872.436v1.635h-1.635A6,6,0,0,0,128,40.172a.545.545,0,0,0,1.032.244l.129-.256a4.877,4.877,0,0,1,4.386-2.712h2.081v1.635a.545.545,0,0,0,.872.436l4.359-3.269a.545.545,0,0,0,0-.872Z"
                                                    transform="translate(-128 -31.998)" />
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                                <div class="name">
                                    ออกจากระบบ
                                </div>
                            </div>
                            <div class="icon-btn-post" (click)="sildeWindowToBoxPost()">
                                <svg class="button-post" xmlns="http://www.w3.org/2000/svg" width="39.429"
                                    height="31.264" viewBox="0 0 39.429 31.264">
                                    <g id="Group_1210" data-name="Group 1210" transform="translate(-4642 -13042.372)">
                                        <g id="vintage" transform="translate(4652.771 13042.372)">
                                            <g id="Group_630" data-name="Group 630" transform="translate(0)">
                                                <path id="Path_376" data-name="Path 376"
                                                    d="M49.341,0A25.427,25.427,0,0,0,24.054,23.132a79.631,79.631,0,0,1,8.26-9.521.651.651,0,0,1,.93.912c-.507.516-1.021,1.051-1.538,1.593-.3.309-.585.616-.869.918l-.156.169c-4.158,4.452-7.131,8.328-9.289,13.141a.652.652,0,0,0,1.189.534,35.751,35.751,0,0,1,2.664-4.848A25.383,25.383,0,0,0,46.964,12.684a.651.651,0,0,0-.574-.96H43.977L48.3,9.251A.653.653,0,0,0,48.6,8.9a25.311,25.311,0,0,0,1.4-8.247A.652.652,0,0,0,49.341,0Z"
                                                    transform="translate(-21.334)" fill="#fff" />
                                            </g>
                                        </g>
                                        <path id="plus_2_" data-name="plus (2)"
                                            d="M12.889,5.813h-4.3A.253.253,0,0,1,8.34,5.56v-4.3a1.264,1.264,0,1,0-2.527,0v4.3a.253.253,0,0,1-.253.253h-4.3a1.264,1.264,0,1,0,0,2.527h4.3a.253.253,0,0,1,.253.253v4.3a1.264,1.264,0,1,0,2.527,0v-4.3a.253.253,0,0,1,.253-.253h4.3a1.264,1.264,0,1,0,0-2.527Zm0,0"
                                            transform="translate(4642 13043.844)" fill="#fff" />
                                    </g>
                                </svg>
                                <span>โพสต์</span>
                            </div>
                        </ng-container>
                        <ng-template #elseTemplateLoadMenu>
                            <Preload-card *ngFor="let item of [0]" [isShowCard2]="true" class="menu-rreload-card">
                            </Preload-card>
                        </ng-template>
                    </ng-container>
                </div>
                <div class="wrapper-feed-profile">
                    <div *ngIf="!showLoading" class="profile-background">
                        <ng-container
                            *ngIf="isLoading || (resProfile && resProfile.isLoadingCover); else elseisLoading">
                            <div class="cover-img preload-background"></div>
                        </ng-container>
                        <ng-template #elseisLoading>
                            <ng-container *ngIf="resProfile">
                                <ng-container
                                    *ngIf="resProfile.coverURL === '' || resProfile.coverURL === undefined || resProfile.coverURL === null ; else elseCoverImage">
                                    <ng-container *ngIf="isNotAccess; else elseisNotAccess">
                                        <div class="wrapper-cover-image" [class.hide]="isFiles"
                                            (click)="fileInput.click()" dragdrop-image (files)="filesDropped($event)">
                                            <div class="text-wrapper">
                                                <span class="wrapper-icon-upload">
                                                    <svg class="icon-upload" version="1.1" id="Capa_1"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                        viewBox="0 0 480.24 480.24"
                                                        style="enable-background:new 0 0 480.24 480.24;"
                                                        xml:space="preserve">
                                                        <g>
                                                            <g>
                                                                <g>
                                                                    <path
                                                                        d="M391.86,144.552c0.16-2.712,0.248-5.464,0.248-8.312c0.09-59.919-39.046-112.838-96.364-130.3
                                                           c-71.85-21.89-147.842,18.61-169.732,90.46c-2.024-0.104-3.976-0.16-5.904-0.16c-66.274,0-120,53.726-120,120s53.726,120,120,120
                                                           h72.088c4.418,0,8-3.582,8-8s-3.582-8-8-8h-72.088c-57.438,0-104-46.562-104-104s46.562-104,104-104
                                                           c3.688,0.01,7.373,0.211,11.04,0.6c3.93,0.329,7.534-2.2,8.56-6.008c13.401-53.473,61.51-90.937,116.637-90.828
                                                           c66.274,0.13,119.894,53.962,119.763,120.236c0.021,4.99-0.303,9.975-0.968,14.92c-0.049,0.358-0.073,0.72-0.073,1.081
                                                           c0.001,4.418,3.583,7.999,8.001,7.999h1.04c44.183,0,80,35.817,80,80c0,44.183-35.817,80-80,80h-95.464c-4.418,0-8,3.582-8,8
                                                           s3.582,8,8,8h95.464c50.028,0.01,91.677-38.401,95.707-88.267C484.086,195.127,444.707,148.823,391.86,144.552z" />
                                                                    <polygon points="336.276,245.088 240.108,148.928 143.94,245.088 155.26,256.408 232.108,179.552 232.108,480.24 248.108,480.24 
                                                           248.108,179.552 324.956,256.408" />
                                                                </g>
                                                            </g>
                                                        </g>
                                                    </svg>
                                                    <div class="centered">ลากรูป</div>
                                                    <div class="centered">หรือ</div>
                                                    <div class="centered">คลิกเพื่อเพิ่มรูปภาพ</div>
                                                    <div class="centered">
                                                        <div class="image-upload">
                                                            <label for="file-input-cover">
                                                            </label>
                                                            <input #fileInput id="file-input-cover" type="file"
                                                                (change)="onFileSelect($event)" accept="image/*" />
                                                        </div>
                                                    </div>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="set-cover" *ngIf="isFiles">
                                            <div class="btn-cancel-cover" (click)="cancelCoverImage()">
                                                <span>ยกเลิก</span>
                                            </div>
                                            <div class="btn-save-cover" (click)="saveCoverImage()">
                                                <span>บันทึกรูปภาพ</span>
                                            </div>
                                        </div>
                                    </ng-container>
                                    <ng-template #elseisNotAccess>
                                        <div class="wrapper-cover-image image-not-edit">
                                            <img class="image-cover" src="{{BACKGROUND_IMAGE}}" alt="">
                                        </div>
                                    </ng-template>
                                </ng-container>
                                <ng-template #elseCoverImage>
                                    <div class="cover-img" [class.hide]="isFiles" *ngIf="!isEditCover">
                                        <div (load)="loadImageOK($event)" (error)="loadImageError($event)"
                                            class="body-cover-image"
                                            [ngStyle]="resProfile.coverBase64 ? {'background-image': 'url('+resProfile.coverBase64+')' ,'background-position-y' : position+'%' } : {} ">
                                        </div>
                                    </div>
                                    <div class="set-cover">
                                        <ng-container *ngIf="isFiles; else elseButton">
                                            <div class="btn-cancel-cover" (click)="cancelCoverImage()">
                                                <span>ยกเลิก</span>
                                            </div>
                                            <div class="btn-save-cover" (click)="saveCoverImage()">
                                                <span>บันทึกรูปภาพ</span>
                                            </div>
                                        </ng-container>
                                        <ng-template #elseButton>
                                            <div class="btn-edit-cover" *ngIf="isLogin() && isNotAccess && CheckPost">
                                                <div class="image-upload">
                                                    <label for="file-input">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="20.071"
                                                            height="14.996" viewBox="0 0 20.071 14.996">
                                                            <g id="camera" transform="translate(0 -48.918)">
                                                                <g id="Group_1312" data-name="Group 1312"
                                                                    transform="translate(0 48.918)">
                                                                    <g id="Group_1311" data-name="Group 1311"
                                                                        transform="translate(0 0)">
                                                                        <path id="Path_3216" data-name="Path 3216"
                                                                            d="M133.888,143a3.26,3.26,0,1,0,3.26,3.259A3.26,3.26,0,0,0,133.888,143Zm1.788,5.048a2.527,2.527,0,1,1,0-3.574A2.527,2.527,0,0,1,135.676,148.049Z"
                                                                            transform="translate(-123.853 -138.121)"
                                                                            fill="#747474" />
                                                                        <path id="Path_3217" data-name="Path 3217"
                                                                            d="M19.706,50.935a1.245,1.245,0,0,0-.882-.367H14.079l-.166-.855a1.071,1.071,0,0,0-.28-.556.79.79,0,0,0-.573-.239H7.013a.787.787,0,0,0-.548.207l-.027.023a1.069,1.069,0,0,0-.28.552l-.166.855H1.245A1.245,1.245,0,0,0,0,51.8V62.665a1.245,1.245,0,0,0,.365.882h0a1.245,1.245,0,0,0,.882.367H18.826a1.245,1.245,0,0,0,1.245-1.245V51.817A1.245,1.245,0,0,0,19.706,50.935ZM3.378,54.058H2.756a.78.78,0,0,1,0-1.56h.622a.78.78,0,0,1,0,1.56Zm6.659,7.347a4.347,4.347,0,0,1,0-8.694h0a4.347,4.347,0,0,1,0,8.694Z"
                                                                            transform="translate(0 -48.918)"
                                                                            fill="#747474" />
                                                                    </g>
                                                                </g>
                                                            </g>
                                                        </svg>
                                                        <span class="label-edit-cover">แก้ไข</span>
                                                    </label>
                                                    <input id="file-input" type="file" (change)="onFileSelect($event)"
                                                        accept="image/*" />
                                                </div>
                                            </div>
                                        </ng-template>
                                    </div>
                                </ng-template>
                            </ng-container>
                        </ng-template>
                        <img id="image" [class.active]="!isEditCover"
                            [ngStyle]="{'display': isEditCover ? 'flex' : 'none'}">
                    </div>

                    <Preload-card *ngIf="showLoading" [isShowCard1]="true" [isShowCard2]="false">
                    </Preload-card>

                    <div *ngIf="!showLoading" class="wrapper-profile">
                        <div class="img-profile">
                            <ng-container
                                *ngIf="isLoading || (resProfile && resProfile.isLoadingImage); else elseImgUrl">
                                <img class="image-profile-fan-page preload-background">
                            </ng-container>
                            <ng-template #elseImgUrl>
                                <ng-container *ngIf="resProfile && resProfile.imageBase64; else elseImgUrl">
                                    <img class="image-profile-fan-page" src="{{resProfile.imageBase64}}">
                                </ng-container>
                                <ng-template #elseImgUrl>
                                    <img class="image-profile-fan-page" src="../../../../assets/img/profile.svg">
                                </ng-template>
                            </ng-template>
                            <div class="edit-profile" *ngIf="isLogin() && isNotAccess" (click)="showDialogImage()">
                                <svg class="icon-image" xmlns="http://www.w3.org/2000/svg" width="20.071"
                                    height="14.996" viewBox="0 0 20.071 14.996">
                                    <g id="camera" transform="translate(0 -48.918)">
                                        <g id="Group_1312" data-name="Group 1312" transform="translate(0 48.918)">
                                            <g id="Group_1311" data-name="Group 1311" transform="translate(0 0)">
                                                <path id="Path_3216" data-name="Path 3216"
                                                    d="M133.888,143a3.26,3.26,0,1,0,3.26,3.259A3.26,3.26,0,0,0,133.888,143Zm1.788,5.048a2.527,2.527,0,1,1,0-3.574A2.527,2.527,0,0,1,135.676,148.049Z"
                                                    transform="translate(-123.853 -138.121)" fill="#747474" />
                                                <path id="Path_3217" data-name="Path 3217"
                                                    d="M19.706,50.935a1.245,1.245,0,0,0-.882-.367H14.079l-.166-.855a1.071,1.071,0,0,0-.28-.556.79.79,0,0,0-.573-.239H7.013a.787.787,0,0,0-.548.207l-.027.023a1.069,1.069,0,0,0-.28.552l-.166.855H1.245A1.245,1.245,0,0,0,0,51.8V62.665a1.245,1.245,0,0,0,.365.882h0a1.245,1.245,0,0,0,.882.367H18.826a1.245,1.245,0,0,0,1.245-1.245V51.817A1.245,1.245,0,0,0,19.706,50.935ZM3.378,54.058H2.756a.78.78,0,0,1,0-1.56h.622a.78.78,0,0,1,0,1.56Zm6.659,7.347a4.347,4.347,0,0,1,0-8.694h0a4.347,4.347,0,0,1,0,8.694Z"
                                                    transform="translate(0 -48.918)" fill="#747474" />
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                            </div>
                        </div>
                        <div class="ur_ed_z">
                            <ng-container *ngIf="isLogin() && isNotAccess; else elseBtn">
                                <div class="wrapper-btn-edit-profile">
                                    <spanboon-button [height]="'30pt'" [text]="'แก้ไขโปรไฟล์'" (click)="editProfile()">
                                    </spanboon-button>
                                </div>
                            </ng-container>
                            <ng-template #elseBtn>
                                <div class="wrapper-btn-edit-profile">
                                    <spanboon-button [height]="'30pt'"
                                        [text]="resProfile && resProfile.isFollow ? 'กำลังติดตาม' : 'ติดตาม' "
                                        (click)="clickFollowUser()">
                                    </spanboon-button>
                                </div>
                            </ng-template>

                            <div *ngIf="!showLoading" class="wrapper-page-name">
                                <div class="fan-page-name" [phxPreload]="resProfile" [preloadClass]="'fan-page-name'">
                                    {{resProfile && resProfile.displayName ? resProfile.displayName : ''}}
                                </div>
                                <div class="fan-page-tag" [phxPreload]="resProfile" [preloadClass]="'fan-page-tag'"
                                    [preloadPaddIng]="'10'"
                                    *ngIf="resProfile && resProfile.uniqueId !== '' && resProfile.uniqueId !== null && resProfile.uniqueId !== undefined">
                                    {{ '@'+ resProfile.uniqueId }}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="!showLoading" class="wrapper-feed-menu" id="feed-to">
                        <div class="wrapper-counter-follow" [phxPreload]="resProfile"
                            [preloadClass]="'wrapper-counter-follow'" [preloadPaddIng]="'30pt'">
                            <span class="follower">
                                {{resProfile && resProfile.following !== undefined ? resProfile.following : 0}}
                                กำลังติดตาม
                            </span>
                            <span class="following">
                                {{resProfile && resProfile.followers !== undefined ? resProfile.followers : 0}}
                                ผู้ติดตาม
                            </span>
                        </div>
                        <nav mat-tab-nav-bar [attr.mat-align-tabs]="(Tab) ? 'center' : 'left'">
                            <a mat-tab-link *ngFor="let link of links" [disableRipple]="'true'"
                                (click)="linkDataType(link); activeLink = link.label"
                                [active]="activeLink == link.label">
                                {{link.label}}
                            </a>
                            <ng-container *ngIf="!isNotAccess">
                                <button mat-icon-button [matMenuTriggerFor]="menu" [disableRipple]="'false'"
                                    class="dropdown">
                                    <span class="material-icons">
                                        more_horiz
                                    </span>
                                </button>
                                <mat-menu #menu="matMenu" xPosition="before">
                                    <div>
                                        <button mat-menu-item [disableRipple]="'true'" class="list-dropdown"
                                            (click)="reportUser()">
                                            <mat-icon>warning</mat-icon>
                                            <span>รายงานผู้ใช้นี้</span>
                                        </button>
                                        <button mat-menu-item [disableRipple]="'true'" class="list-dropdown"
                                            (click)="blockUser()">
                                            <mat-icon>block</mat-icon>
                                            <span>บล็อกผู้ใช้นี้</span>
                                        </button>
                                    </div>
                                </mat-menu>
                            </ng-container>
                        </nav>
                    </div>
                    <box-post *ngIf="isLogin() && isNotAccess && !showLoading && CheckPost" #boxPost id="boxPost"
                        [profile]="resProfile && resProfile.imageBase64" [isShowTablet]="'true'" [isSharePost]="false"
                        [isClickPostPreLoad]="isClickPostPreLoad" [isShowMaxWidth]="'899'"
                        (createPost)="createPost($event)" [dataPage]="name" [modeDoIng]="'true'"
                        style="display: block; padding: 5pt 0;">
                    </box-post>

                    <ng-container *ngIf="isLoadingClickTab; else elseTemplateLoad">
                        <Preload-card [isShowCard1]="true" [isShowCard2]="true">
                        </Preload-card>
                    </ng-container>
                    <ng-template #elseTemplateLoad>
                        <ng-container
                            *ngIf="resPost && resPost.posts && resPost.posts.length > 0 && !showLoading; else elsePost ">
                            <ng-container *ngFor="let itemPost of resPost.posts; let index = index">
                                <post-data [itemPost]="itemPost" [user]="userImage" [isComments]="isLogin()"
                                    [mainPostLink]="itemPost && itemPost.name ? 'profile/'+name+'/post/' : 'profile/'+name+'/post/' "
                                    [isUserPage]="false" (action)="actionComment($event,index)" [isShowUser]="true"
                                    (comment)="createComment($event,index)" [pageUser]="pageUser" [isPage]="isNotAccess"
                                    [isNotAccess]="isNotAccess" (userpage)="getAaaPost($event,index)"
                                    (delete)="deletePost($event,index)" (update)="editPost($event,index)"
                                    (engagement)="engagement($event)"></post-data>
                            </ng-container>
                            <Preload-card *ngIf="isLoadingPost" [isShowCard1]="true" [isShowCard2]="true">
                            </Preload-card>
                        </ng-container>
                        <ng-template #elsePost>
                            <div *ngIf="!showLoading" class="card-feed-post feed-post-none">
                                <span class="lable-timeline">คุณสามารถเพิ่ม{{PLATFORM_STORY_TALE}}ได้ที่นี่</span>
                            </div>
                        </ng-template>
                    </ng-template>

                    <Preload-card *ngIf="showLoading" [isShowCard1]="true" [isShowCard2]="false">
                    </Preload-card>

                </div>
                <div class="side-follow" #sidefeedHeight>
                    <recommend-card *ngIf="!showLoading" [title]="'คนที่คุณอาจรู้จัก'" [data]="dataRecommend"
                        (submitFollow)="clickFollow($event)" [selectedIndex]="selectedIndex"></recommend-card>
                    <Preload-card *ngIf="showLoading" [isShowCard1]="true" [isShowCard2]="false">
                    </Preload-card>
                    <ng-container *ngIf="resProfile && resProfile.provideItems && resProfile.provideItems.length > 0">
                        <ng-container *ngIf="isLogin() && isNotAccess">
                            <card-item [itemData]="resProfile.provideItems" [isDoIng]="'true'"
                                [pageName]="resProfile.displayName" [label]="'เพิ่มสิ่งของ'" [statusLable]="'คุณมี'"
                                (submit)="showDilogProvideItem()"></card-item>
                        </ng-container>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>
</ng-container>
<ng-template #elsePageNotFound>
    <div class="spanboon-fan-page pageNotFound">
        <svg id="Group_142" data-name="Group 142" xmlns="http://www.w3.org/2000/svg" width="67.553" height="33.8"
            viewBox="0 0 67.553 33.8">
            <circle id="Ellipse_89" data-name="Ellipse 89" cx="3.753" cy="3.753" r="3.753"
                transform="translate(60.047 11.275)" fill="#a2a2a2" />
            <circle id="Ellipse_90" data-name="Ellipse 90" cx="3.753" cy="3.753" r="3.753"
                transform="translate(0 11.275)" fill="#a2a2a2" />
            <circle id="Ellipse_91" data-name="Ellipse 91" cx="3.753" cy="3.753" r="3.753" transform="translate(30.024)"
                fill="#a2a2a2" />
            <path id="Path_201" data-name="Path 201"
                d="M187.761,979.776c-.008-13.128-15.127-23.769-33.776-23.769s-33.769,10.64-33.777,23.769h3.35a3.752,3.752,0,0,1,7.5,0h6.659V968.053a6.255,6.255,0,0,1,12.509,0v11.723h7.5V968.053a6.255,6.255,0,0,1,12.51,0v11.723h6.607v-.007a3.753,3.753,0,1,1,7.506,0v.007Z"
                transform="translate(-120.208 -945.977)" fill="#a2a2a2" />
        </svg>
        <div class="text-NotFound">ไม่พบบัญชีผู้ใช้</div>
    </div>
</ng-template>

<loading [text]="'กำลังโพสต์'" *ngIf="isPostLoading"></loading>
<loading *ngIf="isLoading"></loading>