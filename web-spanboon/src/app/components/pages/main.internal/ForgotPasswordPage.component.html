<!--
    @license Spanboon Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author:  p-nattawadee <nattawdee.l@absolute.co.th>, Chanachai-Pansailom <chanachai.p@absolute.co.th>, Americaso <treerayuth.o@absolute.co.th>
-->

<div class="forgot-password-page">
    <div class="forgot-body">
        <div class="forgot-left">
            <div class="forgot-teaser">
                <div class="header">
                    หากคุณลืมรหัสผ่าน<br>
                    สะพานบุญ
                </div>
                <div class="title">
                    หากคุณประสบปัญหาเมื่อพยายาม<br>
                    ลงชื่อเข้าใช้ด้วยรหัสผ่าน บัญชีผู้ใช้<br>
                    สะพานบุญของคุณ ใช้ขั้นตอนนี้เพื่อรีเซ็ต<br>
                    และรับคืนสิทธิ์การเข้าสู่บัญชีผู้ใช้สะพานบุญ
                </div>
            </div>
        </div>
        <div class="forgot-right">
            <!-- <div class="right-top">
                <span class="forgot-help">
                    ให้เราช่วยคุณไหม?
                </span>
            </div> -->
            <div class="right-body">
                <div class="box-forgot">
                    <div class="box-header">
                        <div class="header">
                            รีเซ็ตรหัสผ่านของคุณ
                        </div>
                        <div class="title">
                            กรุณากรอก อีเมล ที่คุณใช้ในการสมัคร
                        </div>
                    </div>
                    <div class="box-input">
                        <mat-label class="title">อีเมล</mat-label>
                        <input class="input-forgot" #email type="email" name="email" id="email"
                            placeholder="อีเมลของคุณที่ใช้ในการสมัคร">
                        <span *ngIf="invaildEmail"
                            style="color: red;font-family: 'Kanit-300';">กรุณากรอกอีเมลให้ถูกต้อง</span>
                    </div>
                    <div class="box-bottom">
                        <div class="header">
                            หากไม่สามารถเข้าถึง อีเมล ของคุณได้เลย
                        </div>
                        <div class="title">
                            หากคุณลองทำตามขั้นตอนแล้วแต่ไม่สำเร็จ คุณจะยังคงรีเซ็ตรหัสผ่าน
                            และรับสิทธิ์เข้าถึงบัญชีอีกครั้งได้ด้วยการติดต่อหามายัง อีเมล ด้านล้างนี้
                        </div>
                        <div class="forgot-support">
                            <span class="mail-h">อีเมล: </span>
                            <a href="mailto:support@spanboon.com" class="forgot-mail">support@spanboon.com</a>
                        </div>
                    </div>
                </div>
                <div class="box-forgot">
                    <div class="box-header">
                        <div class="header">
                            ป้อนรหัสการกู้คืน
                        </div>
                        <div class="title">
                            โปรดตรวจสอบ "รหัสกู้คืน" ที่ใช้สำหรับการรีเซ็ตรหัสผ่านบัญชีสะพานบุญที่อีเมลของคุณ
                        </div>
                    </div>
                    <div class="box-input">
                        <mat-label class="title">รหัสกู้คืน <span *ngIf="invaildUUID"
                                style="color: red;font-family: 'Kanit-300';">รหัสกู้ต้องเท่ากับ 6 ตัว</span>
                            <span *ngIf="invaildPattern"
                                style="color: red;font-family: 'Kanit-300';">รหัสกู้คืนไม่ถูกต้อง</span>
                        </mat-label>
                        <input class="input-forgot" type="text" maxlength="6" #uuid id="uuid" placeholder="XXXXXX">

                        <mat-label class="title">รหัสผ่านใหม่ <span *ngIf="invaildPasswd"
                                style="color: red;font-family: 'Kanit-300';">รหัสผ่านต้องมากกว่าหรือเท่ากับ 6 ตัว</span>
                        </mat-label>
                        <div class="plass-eye">
                            <input class="input-forgot" [type]="hide ? 'text' : 'password'" #passwd name="passwd"
                                id="passwd" placeholder="••••••">
                            <div class="eye-visi"(click)="hide = !hide" [attr.aria-label]="'Hide password'"
                                [attr.aria-pressed]="hide">
                                <mat-icon>{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
                        </div>
                        </div>

                        <mat-label class="title">ใส่รหัสผ่านใหม่อีกครั้ง <span *ngIf="invaildRePasswd"
                                style="color: red;font-family: 'Kanit-300';">รหัสผ่านไม่ตรงกัน</span></mat-label>
                        <div class="plass-eye">
                            <input class="input-forgot" [type]="hiderepasswd ? 'text' : 'password'" #repasswd name="repasswd"
                                id="repasswd" placeholder="••••••">
                            <div class="eye-visi"(click)="hiderepasswd = !hiderepasswd" [attr.aria-label]="'Hiderepasswd password'"
                                [attr.aria-pressed]="hiderepasswd">
                                <mat-icon>{{hiderepasswd ? 'visibility' : 'visibility_off'}}</mat-icon>
                        </div>
                        </div>

                    </div>
                    <div class="box-bottom">
                        <div class="title">
                            <span class="tools" (click)="clickReset()">ขอรหัสการกู้คืนอีกครั้ง</span>
                        </div>
                    </div>
                </div>
                <div class="box-forgot">
                    <div class="forgot-success">
                        <div class="top">
                            <div class="header">
                                เปลี่ยนรหัสผ่านสำเร็จ
                            </div>
                            <div class="title">
                                คุณสามารถเข้าบัญชีของคุณผ่านรหัสผ่านใหม่ได้แล้ว
                            </div>
                        </div>
                        <div class="bottom">
                            <ng-container *ngIf="resUser && resUser.imageBase64 && resUser.imageBase64 !== ''; else elseProfile"> 
                                <img src="{{resUser && resUser.imageBase64}}" alt="" class="image-user">
                            </ng-container>
                            <ng-template #elseProfile>
                                <div class="image-user not-image">
                                    {{resUser && resUser.displayName | slice: 0:1  }}
                                </div>
                            </ng-template>

                            <div class="username">
                                {{resUser && resUser.displayName}}
                            </div>
                            <div class="sub-name"
                                *ngIf="resUser && resUser.uniqueId  && resUser.uniqueId !== '' && resUser.uniqueId !== undefined && resUser.uniqueId !== null">
                                {{'@'+resUser.uniqueId}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="right-bottom">
                <div class="bottom-left">
                    <ng-container *ngIf="isShow1; else elseTemplateShow">
                        <button mat-stroked-button class="but-canc" (click)="clickClose()">ยกเลิก</button>
                        <button mat-stroked-button class="but-rem" id="prevBtn" (click)="nextPrev(-1)">เปลี่ยน
                            อีเมล</button>
                    </ng-container>
                    <ng-template #elseTemplateShow>

                    </ng-template>
                </div>
                <div class="bottom-right">
                    <div class="wizar" *ngIf="isShow2">
                        <span class="step"></span>
                        <span class="step"></span>
                        <span class="step"></span>
                    </div>
                    <ng-container *ngIf="isEmail; else elseEmail">
                        <button mat-stroked-button matRipple [matRippleCentered]="centered" class="but-conf"
                            id="nextBtn" (click)="forgetPassword(1)">ถัดไป</button>
                    </ng-container>
                    <ng-template #elseEmail>
                        <ng-container *ngIf="isLastButton; else elseLastButton">
                            <button mat-stroked-button matRipple [matRippleCentered]="centered" class="but-conf"
                                id="nextBtn" (click)="nextPrev(1)">เสร็จ</button>
                        </ng-container>
                        <ng-template #elseLastButton>
                            <button mat-stroked-button matRipple [matRippleCentered]="centered" class="but-conf"
                                id="nextBtn" (click)="changePassword(1)">ถัดไป</button>
                        </ng-template>

                    </ng-template>
                </div>
            </div>
        </div>
    </div>
</div>