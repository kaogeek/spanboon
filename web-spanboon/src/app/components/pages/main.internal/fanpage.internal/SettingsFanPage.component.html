<!--
    @license Spanboon Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author:  p-nattawadee <nattawdee.l@absolute.co.th>, Chanachai-Pansailom <chanachai.p@absolute.co.th>, Americaso <treerayuth.o@absolute.co.th>
--> 

<div class="fanpage-settings"> 
    <div class="container">
        <div class="setting-top"  *ngIf="!isPreload">
            <div class="profile-page-settings">
                <div class="page">
                    <ng-container *ngIf="resListPage && resListPage.imageURL && resListPage.imageURL !== ''  && resListPage.imageURL !== undefined  && resListPage.imageURL !== null; else elseImage">
                        <img src="{{resListPage.imageURL}}" alt="">
                    </ng-container>
                    <ng-template #elseImage>
                        <div class="profile-name">{{resListPage && resListPage.name | slice: 0 :1}}</div>
                    </ng-template>

                    <div class="name-page">
                        {{resListPage && resListPage.name}}
                    </div>
                </div>
            </div> 

            <nav mat-tab-nav-bar class="setting-nav" [disableRipple]="'true'">
                <a mat-tab-link *ngFor="let link of navLinks" [disableRipple]="'true'" [routerLink]="link.path"
                    (click)="selectedSetting(link);"
                    [active]="activeLink == link.label">{{link.label}}
                </a>
            </nav>
        </div>
        <ng-container  *ngIf="isPreload"> 
            <preload-data *ngFor="let item of [0]" [isShowCard1]="true" [isShowCard2]="false" class="setting-top"></preload-data>
        </ng-container>
        
        <div class="settings-flex" *ngIf="!isPreload">
            <div class="settings-left">
                <div class="settings-list"> 
                    <ng-container *ngIf="activeLink === 'จัดการเพจ';">
                        <ng-container *ngFor="let link of arrayLink.links; let index = index">
                            <div class="list-item-menu" matRipple matTooltip="{{link.label}}"
                                [matTooltipPosition]="'right'" (click)="selecedInformation(link)"
                                [class.active]="selected === link.label">
                                <mat-icon class="settings-icon">{{link.icon}}</mat-icon>
                                <span class="settings-title">{{link.label}}</span>
                            </div> 
                        </ng-container>
                    </ng-container>

                    <ng-container *ngIf="activeLink === 'โพสต์ของเพจ';">
                        <ng-container *ngFor="let link of arrayLink.linksPost; let index = index">
                            <div class="list-item-menu" matRipple matTooltip="{{link.label}}"
                                [matTooltipPosition]="'right'" (click)="selecedInformation(link)"
                                [class.active]="selected === link.label">
                                <mat-icon class="settings-icon">{{link.icon}}</mat-icon>
                                <span class="settings-title">{{link.label}}</span>
                            </div>
                        </ng-container>
                    </ng-container> 
                </div>
            </div>
            <div class="settings-right"> 
                <settings-info #settingInfo *ngIf="activeLink === 'จัดการเพจ'" [bindingSocialTwitter]="bindingSocialTwitter" [selectedTab]="selected" [data]="resListPage.id"  [dirtyCancelEvent]="dirtyCancelEvent" [dirtyConfirmEvent]="dirtyConfirmEvent"></settings-info> 
            </div>
        </div>  
        <ng-container  *ngIf="isPreload"> 
            <preload-data *ngFor="let arra of [0]" [isShowCard1]="false" [isShowCard2]="true" class="settings-flex"></preload-data>
        </ng-container>
    </div>
</div>