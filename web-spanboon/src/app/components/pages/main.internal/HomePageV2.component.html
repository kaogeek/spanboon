<!--
    @license Spanboon Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author:  p-nattawadee <nattawdee.l@absolute.co.th>, Chanachai-Pansailom <chanachai.p@absolute.co.th>, Americaso <treerayuth.o@absolute.co.th>
-->
<div *ngIf="isLoding" class="loding">
    <div class="top">
        <div class="top_for_loding" *ngFor="let number of [0,1 ]">
            <Preload-card [isShowCard1]="true" [isShowCard2]="false">
            </Preload-card>
        </div>
    </div>
    <div class="buttom">
        <div class="buttom_for_loding" *ngFor="let number of [0,1,2,3 ]">
            <Preload-card [isShowCard1]="true" [isShowCard2]="false">
            </Preload-card>
        </div>
    </div>
</div>

<div class="hoem_page_v2" [class.hide]="!isLoding">
    <div class="hoem_page_body">

        <!-- ///////////////////////// -->

        <div class="events_tag_top">
            <div class="left">
                <span class="text">มาใหม่ :</span>
                <div class="tag_list">
                    <a class="tag" (click)="clickDataSearch(item)"
                        *ngFor="let item of emergencyEventsArrTitle | slice:0:3; let i=index">{{item}}</a>
                </div>
                <div class="tag_list_moblie">
                    <a class="tag" (click)="clickDataSearch(item)"
                        *ngFor="let item of emergencyEventsArrTitle | slice:0:2; let i=index">{{item}}</a>
                </div>
            </div>
            <div class="right">
                <span class="text">มาแรง :</span>
                <div class="tag_list">
                    <a class="tag" (click)="clickDataSearch(item)"
                        *ngFor="let item of emergencyEventsArrTitle | slice:0:3; let i=index">{{item}}</a>
                </div>
            </div>
        </div>

        <!-- ///////////////////////// -->

        <div class="events_top" [class.full]="!isDoing">
            <div class="left" [class.full]="!isDoing">
                <card-contant-home [eventCard]='true' [isData]="isDoing" [eventData]='emergencyEvents'>
                </card-contant-home>
            </div>
            <div class="right" [class.dis]="!isDoing">
                <div class="tagCardRight">
                    <card-contant-home [tagCard]='true' [tagCardIsOpenRight]='true' [tagData]='doingEventsNo2'>
                    </card-contant-home>
                </div>
                <div class="tagCard">
                    <card-contant-home [tagCard]='true' [tagData]='doingEventsNo1'></card-contant-home>
                    <card-contant-home style="margin-left: 10px;" [tagCard]='true' [tagData]='doingEventsNo3'>
                    </card-contant-home>
                </div>
            </div>
        </div>

        <!-- ///////////////////////// -->


        <div class="around_section" *ngIf="aroundSectionModels">
            <div class="top">
                <div class="text_svg">
                    <div class="svg">
                        <svg class="img_objective" xmlns="http://www.w3.org/2000/svg" width="22.899" height="22.899"
                            viewBox="0 0 22.899 22.899">
                            <g id="mission" transform="translate(0)">
                                <path class="svg-icon-color-activate" id="Path_3205" data-name="Path 3205"
                                    d="M4.864,322.8a1.782,1.782,0,0,1,.267-1.475l3.26-4.646L6.552,314.13a.447.447,0,0,0-.726,0L.085,322.093a.447.447,0,0,0,.363.709Z"
                                    transform="translate(0 -299.903)" fill="#747474" />
                                <path class="svg-icon-color-activate" id="Path_3206" data-name="Path 3206"
                                    d="M311.071,9.5V7.156h5.59a.671.671,0,0,0,.57-1.025L316.06,4.249l1.171-1.882a.671.671,0,0,0-.57-1.025h-5.59V.671a.671.671,0,1,0-1.342,0V9.5A.865.865,0,0,1,311.071,9.5Z"
                                    transform="translate(-295.877)" fill="#747474" />
                                <path class="svg-icon-color-activate" id="Path_3207" data-name="Path 3207"
                                    d="M149.512,349.174l-1.6,1.492a.671.671,0,0,1-.915,0l-1.162-1.082-1.161,1.082a.671.671,0,0,1-.915,0l-1.6-1.492-4.616,6.578a.447.447,0,0,0,.366.7h15.855a.447.447,0,0,0,.366-.7Z"
                                    transform="translate(-131.312 -333.558)" fill="#747474" />
                                <path class="svg-icon-color-activate" id="Path_3208" data-name="Path 3208"
                                    d="M260.934,244.4l1.161-1.082a.671.671,0,0,1,.915,0l1.162,1.082,1.292-1.177-2.545-3.626a.447.447,0,0,0-.732,0l-2.545,3.626Z"
                                    transform="translate(-248.03 -228.703)" fill="#747474" />
                            </g>
                        </svg>
                    </div>

                    <div class="text">
                        <span class="title">{{aroundSectionModels.title}}</span>
                        <span class="subtitle">{{aroundSectionModels.subtitle}}</span>
                    </div>
                </div>
            </div>
            <div class="body">
                <div class="card">
                    <post-swiper-card [isFulfillQuantity]="true" [isFulfill]="'true'" [keyItem]='["owner", "imageURL"]'
                        [itemNeeds]="aroundSectionModels.contents">
                    </post-swiper-card>
                </div>
            </div>
        </div>

        <div class="needs_section" *ngIf="needsSectionModels">
            <div class="top">
                <span class="title">{{needsSectionModels.title}}</span>
                <div class="line"></div>
                <div *ngIf="isLodingMore" class="spinner">
                    <spinners></spinners>
                </div>
                <a *ngIf="!isLodingMore && needsSectionModels.contents.length > 3" class="more"
                    (click)="getMore(needsSectionModels.contents.length,needsSectionModels.type)">ดูเพิ่มเติม</a>
            </div>
            <div class="body">
                <div class="isDesktop" *ngFor="let dataViewSection of needsSectionModels.contents;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [largeCard]='true'
                        [keyObjArr]='["post","coverImage"]' [postData]='dataViewSection'>
                    </card-contant-home>
                </div>
                <div class="isMobile" *ngFor="let dataViewSection of needsSectionModels.contents;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [largeCard]='true'
                        [keyObjArr]='["post","coverImage"]' [postData]='dataViewSection'>
                    </card-contant-home>
                </div>
                <div class="footer_mobile" *ngIf="!isLodingMore && needsSectionModels.contents.length > 3">
                    <span>ยังมี {{needsSectionModels.title}} ในตอนนี้อีกมากมาย</span>
                </div>
                <div class="footer_mobile_button" *ngIf="!isLodingMore && needsSectionModels.contents.length > 3">
                    <div *ngIf="isLodingMore">
                        <spinners></spinners>
                    </div>
                    <spanboon-button *ngIf="!isLodingMore"
                        (click)="getMore(needsSectionModels.contents.length,needsSectionModels.type)"
                        [text]="'ดูเพิ่มเติม'" [bgColor]="'white'" [color]="'rgba(253, 84, 84, 0.95)'" [radius]="'5px'"
                        [border]="'rgba(253, 84, 84, 0.95) 1px solid'"></spanboon-button>
                </div>
            </div>
        </div>

        <div class="rated_section" *ngIf="lookingSectionModels">
            <div class="top">
                <span class="title">{{lookingSectionModels.title}}</span>
                <div class="line"></div>
                <div *ngIf="isLodingMore" class="spinner">
                    <spinners></spinners>
                </div>
                <a *ngIf="!isLodingMore && lookingSectionModels.contents.length > 4" class="more"
                    (click)="getMore(lookingSectionModels.contents.length,lookingSectionModels.type)">ดูเพิ่มเติม</a>
            </div>
            <div class="body">
                <div class="isDesktop" *ngFor="let dataViewSection of lookingSectionModels.contents;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [mediumCard]='true'
                        [keyObjArr]='["post","coverImage"]' [postData]='dataViewSection'></card-contant-home>
                </div>
                <div class="isMobile" *ngFor="let dataViewSection of lookingSectionModels.contents;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [mediumCard]='true'
                        [keyObjArr]='["post","coverImage"]' [postData]='dataViewSection'></card-contant-home>
                </div>
                <div class="footer_mobile" *ngIf="!isLodingMore && lookingSectionModels.contents.length > 4">
                    <span (click)="getMore(lookingSectionModels.contents.length,lookingSectionModels.type)">ยังมี
                        {{lookingSectionModels.title}} ในตอนนี้อีกมากมาย</span>
                </div>
                <div class="footer_mobile_button" *ngIf="!isLodingMore && lookingSectionModels.contents.length > 4">
                    <div *ngIf="isLodingMore">
                        <spinners></spinners>
                    </div>
                    <spanboon-button *ngIf="!isLodingMore" [text]="'ดูเพิ่มเติม'" [bgColor]="'white'"
                        [color]="'rgba(253, 84, 84, 0.95)'" [radius]="'5px'"
                        [border]="'rgba(253, 84, 84, 0.95) 1px solid'"></spanboon-button>
                </div>
            </div>
        </div>

        <div class="other_section" *ngIf="viewSectionModels">
            <div class="top">
                <span class="title">{{viewSectionModels.title}}</span>
                <div class="line"></div>
                <div *ngIf="isLodingMore" class="spinner">
                    <spinners></spinners>
                </div>
                <a *ngIf="!isLodingMore && viewSectionModels.contents.length > 3" class="more"
                    (click)="getMore(viewSectionModels.contents.length,viewSectionModels.type)">ดูเพิ่มเติม</a>
            </div>
            <div class="body">
                <div class="isDesktop" *ngFor="let dataViewSection of viewSectionModels.contents;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [mediumCard]='true'
                        [keyObjArr]='["post","coverImage"]' [postData]='dataViewSection'></card-contant-home>
                </div>
                <div class="isMobile" *ngFor="let dataViewSection of viewSectionModels.contents;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [mediumCard]='true'
                        [keyObjArr]='["post","coverImage"]' [postData]='dataViewSection'></card-contant-home>
                </div>
                <div *ngIf="isLodingMore" style="width: 94%; margin: 20px;">
                    <Preload-card [isShowCard1]="true" [isShowCard2]="true">
                    </Preload-card>
                </div>
                <div class="footer_mobile" *ngIf="!isLodingMore && viewSectionModels.contents.length > 3">
                    <span>ยังมี {{viewSectionModels.title}} ในตอนนี้อีกมากมาย</span>
                </div>
                <div class="footer_mobile_button" *ngIf="!isLodingMore && viewSectionModels.contents.length > 3">
                    <spanboon-button *ngIf="!isLodingMore"
                        (click)="getMore(viewSectionModels.contents.length,viewSectionModels.type)"
                        [text]="'ดูเพิ่มเติม'" [bgColor]="'white'" [color]="'rgba(253, 84, 84, 0.95)'" [radius]="'5px'"
                        [border]="'rgba(253, 84, 84, 0.95) 1px solid'"></spanboon-button>
                </div>
            </div>
        </div>

        <div class="other_section" [class.dis]="item.title === ''"
            *ngFor=" let item of sectionModels| slice:0:1;let index = index">
            <div class="top">
                <span class="title">{{item.title}}</span>
                <div class="line"></div>
                <!-- <a class="more">ดูเพิ่มเติม</a> -->
            </div>
            <div class="body">
                <div class="isDesktop" *ngFor="let dataViewSection of item.contents| slice:0:4;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [mediumCard]='true' [keyObjArr]='["coverImage"]'
                        [postData]='dataViewSection'></card-contant-home>
                </div>
                <div class="isMobile" *ngFor="let dataViewSection of item.contents| slice:0:3;let index = index">
                    <card-contant-home (clickEvent)="testCrad($event)" [mediumCard]='true' [keyObjArr]='["coverImage"]'
                        [postData]='dataViewSection'></card-contant-home>
                </div>
                <!-- <div class="footer_mobile">
                    <span>ยังมี {{item.title}} ในตอนนี้อีกมากมาย</span>
                </div> -->
            </div>
        </div>

        <div class="around_section" *ngIf="postSectionModel">
            <div class="top">
                <div class="text_svg">
                    <div class="svg">
                        <svg class="img_objective" xmlns="http://www.w3.org/2000/svg" width="22.899" height="22.899"
                            viewBox="0 0 22.899 22.899">
                            <g id="mission" transform="translate(0)">
                                <path class="svg-icon-color-activate" id="Path_3205" data-name="Path 3205"
                                    d="M4.864,322.8a1.782,1.782,0,0,1,.267-1.475l3.26-4.646L6.552,314.13a.447.447,0,0,0-.726,0L.085,322.093a.447.447,0,0,0,.363.709Z"
                                    transform="translate(0 -299.903)" fill="#747474" />
                                <path class="svg-icon-color-activate" id="Path_3206" data-name="Path 3206"
                                    d="M311.071,9.5V7.156h5.59a.671.671,0,0,0,.57-1.025L316.06,4.249l1.171-1.882a.671.671,0,0,0-.57-1.025h-5.59V.671a.671.671,0,1,0-1.342,0V9.5A.865.865,0,0,1,311.071,9.5Z"
                                    transform="translate(-295.877)" fill="#747474" />
                                <path class="svg-icon-color-activate" id="Path_3207" data-name="Path 3207"
                                    d="M149.512,349.174l-1.6,1.492a.671.671,0,0,1-.915,0l-1.162-1.082-1.161,1.082a.671.671,0,0,1-.915,0l-1.6-1.492-4.616,6.578a.447.447,0,0,0,.366.7h15.855a.447.447,0,0,0,.366-.7Z"
                                    transform="translate(-131.312 -333.558)" fill="#747474" />
                                <path class="svg-icon-color-activate" id="Path_3208" data-name="Path 3208"
                                    d="M260.934,244.4l1.161-1.082a.671.671,0,0,1,.915,0l1.162,1.082,1.292-1.177-2.545-3.626a.447.447,0,0,0-.732,0l-2.545,3.626Z"
                                    transform="translate(-248.03 -228.703)" fill="#747474" />
                            </g>
                        </svg>
                    </div>

                    <div class="text">
                        <span class="title">{{postSectionModel.title}}</span>
                        <span class="subtitle">{{postSectionModel.subtitle}}</span>
                    </div>
                </div>
            </div>
            <div class="body">
                <div class="card">
                    <post-swiper-card [isFulfillQuantity]="true" (clickEventA)="testCrad($event)" [isFulfill]="'true'"
                        [keyItem]='["coverPageUrl"]' [itemNeeds]="postSectionModel.contents">
                    </post-swiper-card>
                </div>
            </div>
        </div>

    </div>
</div>