<!--
    @license Spanboon Platform v0.1
    (c) 3020-2021 KaoGeek. http://kaogeek.dev
    License MIT. https://opensource.org/licenses/MIT
    Author: Americaso <treerayuth.o@absolute.co.th>
-->

<ng-container *ngIf="fieldTable.formatColor || fieldTable.formatImage; else elseColorImage">
    <ng-container *ngIf="data[fieldTable.name]; else elseColorImageNone">
        <ng-container *ngIf="fieldTable.formatColor">
            <div class="wrapper-col-color">
                <span class="col-color" [ngStyle]="{'background-color': data[fieldTable.name]}"></span>
            </div>
        </ng-container>
        <ng-container *ngIf="fieldTable.formatImage">
            <a href="{{data[fieldTable.name]}}" target="_blank">
                <img src="{{data[fieldTable.name]}}" class="col-image" alt="">
            </a>
        </ng-container>
    </ng-container>
    <ng-template #elseColorImageNone>
        <ng-container *ngIf="fieldTable.label === 'ก้าวไกลหน้าหนึ่ง'; else elseTemplate">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns:svgjs="http://svgjs.com/svgjs" width="45" height="45" x="0" y="0" viewBox="0 0 58 43"
                style="enable-background:new 0 0 512 512" xml:space="preserve" class="">
                <g>
                    <g fill="none" fill-rule="evenodd">
                        <path fill="#ecf0f1"
                            d="M52 43H6a6 6 0 0 1-6-6V2a2.006 2.006 0 0 1 2-2h42a2.006 2.006 0 0 1 2 2z"
                            data-original="#ecf0f1" class=""></path>
                        <rect width="36" height="6" x="5" y="5" fill="#3b97d3" rx="1" data-original="#3b97d3"></rect>
                        <path fill="#e64c3c"
                            d="M7 25a1 1 0 0 0 1-1v-4.513l3.152 5.043A1 1 0 0 0 13 24v-8a1 1 0 0 0-2 0v4.513L7.848 15.47A1 1 0 0 0 6 16v8a1 1 0 0 0 1 1zM16 25h4a1 1 0 0 0 0-2h-3v-2h3a1 1 0 0 0 0-2h-3v-2h3a1 1 0 0 0 0-2h-4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1zM24.857 24.515 27 20.944l2.143 3.571a1 1 0 0 0 1.849-.391l1-8a1 1 0 0 0-1.984-.248L29.367 21l-1.51-2.516a1.039 1.039 0 0 0-1.714 0L24.633 21l-.641-5.125a1 1 0 1 0-1.984.248l1 8a1 1 0 0 0 1.849.391zM37 21c1.2 0 2 .6 2 1a.517.517 0 0 1-.046.177.613.613 0 0 1-.025.058c-.49.54-1.202.822-1.929.765-.72.06-1.428-.22-1.913-.756a1 1 0 0 0-1.713 1.031A4.212 4.212 0 0 0 37 25a4.2 4.2 0 0 0 3.655-1.755c.075-.13.137-.265.185-.407.106-.267.16-.551.16-.838 0-1.682-1.757-3-4-3-1.2 0-2-.6-2-1 0-.034.007-.068.02-.1.009-.025.059-.116.067-.142A2.317 2.317 0 0 1 37 17a2.357 2.357 0 0 1 1.929.765 1 1 0 0 0 1.7-1.05A4.2 4.2 0 0 0 37 15a4.207 4.207 0 0 0-3.6 1.681c-.103.148-.184.31-.241.481-.105.267-.16.551-.159.838 0 1.682 1.757 3 4 3z"
                            data-original="#e64c3c" class=""></path>
                        <g fill="#547580">
                            <path
                                d="M21 28H5a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2zM21 32H5a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2zM21 36H5a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2zM25 28a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2zM41 32H25a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2zM41 36H25a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2z"
                                fill="#547580" data-original="#547580" class=""></path>
                        </g>
                        <path fill="#bdc3c7"
                            d="M54 9h2a2.006 2.006 0 0 1 2 2v25.75A6.172 6.172 0 0 1 52.18 43H52a6 6 0 0 1-6-6V2a2.006 2.006 0 0 0-2-2h4a2.006 2.006 0 0 1 2 2v7z"
                            data-original="#bdc3c7"></path>
                        <path fill="#95a5a5" d="M54 9v28a2 2 0 0 1-2.34 1.97A2.079 2.079 0 0 1 50 36.89V9z"
                            data-original="#95a5a5"></path>
                    </g>
                </g>
            </svg>
        </ng-container>
        <ng-template #elseTemplate>
            <ng-container
                *ngIf="(fieldTable.name !== 'startDate') && (fieldTable.name !== 'endDate'); else elseTemplate">
                -
            </ng-container>
            <ng-template #elseTemplate>
                <div *ngIf="fieldTable.name === 'startDate'">
                    {{data.startDateTime | thdatetime}}
                </div>
                <div *ngIf="fieldTable.name === 'endDate'">
                    {{data.endDateTime | thdatetime}}
                </div>
            </ng-template>

        </ng-template>
    </ng-template>
</ng-container>
<ng-template #elseColorImage>
    <ng-container *ngIf="fieldTable.link.length > 0; else elseTemplate">
        <a href="{{getLink()}}" target="_blank">
            <ng-container *ngIf="fieldTable.formatDate; else elseFormatId">
                <ng-container *ngIf="fieldTable.formatId">
                    <ng-container *ngIf="data[fieldTable.name]; else elseFieldName">
                        {{data[fieldTable.name] | prefixNumber: 5}}
                    </ng-container>
                    <ng-template #elseFieldName>
                        -
                    </ng-template>
                </ng-container>
                <ng-container *ngIf="fieldTable.formatDate">
                    <ng-container *ngIf="data[fieldTable.name]; else elseFieldDate">
                        {{data[fieldTable.name] | date:defaultDateTimeFormat}}
                    </ng-container>
                    <ng-template #elseFieldDate>
                        -
                    </ng-template>
                </ng-container>
            </ng-container>
            <ng-template #elseFormatId>
                <ng-container *ngIf="data[fieldTable.name]; else elseData">
                    <ng-container *ngIf="(!isWordCountOver(data[fieldTable.name]) || isSeeMore); else elseIsSeeMore">
                        {{data[fieldTable.name]}}
                    </ng-container>
                    <ng-template #elseIsSeeMore>
                        {{data[fieldTable.name] | slice:0:220}}...
                    </ng-template>
                    <span class="see-more" *ngIf="isWordCountOver()" (click)="clickOpenDropDown()"
                        [class.see-less]="isSeeMore">{{
                        isSeeMore ? 'แสดงน้อยลง' : 'ดูเพิ่มเติม'}}</span>
                </ng-container>
                <ng-template #elseData>
                    -
                </ng-template>
            </ng-template>
        </a>
    </ng-container>
    <ng-template #elseTemplate>
        <ng-container *ngIf="fieldTable.formatId || fieldTable.formatDate; else elseFormatId">
            <ng-container *ngIf="fieldTable.formatId">
                <ng-container *ngIf="data[fieldTable.name]; else elseFieldName">
                    {{data[fieldTable.name] | prefixNumber: 5}}
                </ng-container>
                <ng-template #elseFieldName>
                    -
                </ng-template>
            </ng-container>
            <ng-container *ngIf="fieldTable.formatDate">
                <ng-container *ngIf="data[fieldTable.name]; else elseFieldDate">
                    {{data[fieldTable.name] | date:defaultDateTimeFormat}}
                </ng-container>
                <ng-template #elseFieldDate>
                    -
                </ng-template>
            </ng-container>
        </ng-container>
        <ng-template #elseFormatId>
            <ng-container *ngIf="data[fieldTable.name]; else elseData">
                <ng-container *ngIf="(!isWordCountOver(data[fieldTable.name]) || isSeeMore); else elseIsSeeMore">
                    {{data[fieldTable.name]}}
                </ng-container>
                <ng-template #elseIsSeeMore>
                    {{data[fieldTable.name] | slice:0:220}}...
                </ng-template>
                <span class="see-more" *ngIf="isWordCountOver(data[fieldTable.name])" (click)="clickOpenDropDown()"
                    [class.see-less]="isSeeMore">{{
                    isSeeMore ? 'แสดงน้อยลง' : 'ดูเพิ่มเติม'}}</span>
            </ng-container>
            <ng-template #elseData>
                <ng-container
                    *ngIf="(fieldTable.name !== 'type') && (fieldTable.name !== 'field') && (fieldTable.name !== 'bucket1') && (fieldTable.name !== 'bucket2') && (fieldTable.name !== 'bucket3') && (fieldTable.name !== 'bucket4') && (fieldTable.name !== 'bucket5'); else elseBucket">
                    -
                </ng-container>
                <ng-template #elseBucket>
                    <div *ngIf="fieldTable.name === 'type'">
                        <div *ngIf="data.type">
                            <span style="font-size: 16px;" *ngIf="data.type !== ''">
                                {{data.type ? data.type : ''}}</span>
                        </div>
                    </div>
                    <div *ngIf="fieldTable.name === 'field'">
                        <div *ngIf="data.field">
                            <span style="font-size: 16px;" *ngIf="data.field !== ''">ฟิลด์ :
                                {{data.field ? data.field : ''}}</span>
                        </div>
                    </div>
                    <div *ngIf="fieldTable.name === 'bucket1'">
                        <div *ngIf="data.buckets[0]">
                            <span style="font-size: 16px;"
                                *ngIf="data.buckets[0].name && data.buckets[0].name !== ''">หัวเรื่อง :
                                {{data.buckets[0].name ? data.buckets[0].name : ''}}</span>
                            <div *ngFor="let item of data.buckets[0].values">
                                {{item}}
                            </div>
                        </div>
                    </div>
                    <div *ngIf="fieldTable.name === 'bucket2'">
                        <div *ngIf="data.buckets[1]">
                            <span style="font-size: 16px;"
                                *ngIf="data.buckets[1].name && data.buckets[1].name !== ''">หัวเรื่อง :
                                {{data.buckets[1].name ? data.buckets[1].name : ''}}</span>
                            <div *ngFor="let item of data.buckets[1].values">
                                {{item}}
                            </div>
                        </div>
                    </div>
                    <div *ngIf="fieldTable.name === 'bucket3'">
                        <div *ngIf="data.buckets[2]">
                            <span style="font-size: 16px;"
                                *ngIf="data.buckets[2].name && data.buckets[2].name !== ''">หัวเรื่อง :
                                {{data.buckets[2].name ? data.buckets[2].name : ''}}</span>
                            <div *ngFor="let item of data.buckets[2].values">
                                {{item}}
                            </div>
                        </div>
                    </div>
                    <div *ngIf="fieldTable.name === 'bucket4'">
                        <div *ngIf="data.buckets[3]">
                            <span style="font-size: 16px;"
                                *ngIf="data.buckets[3].name && data.buckets[3].name !== ''">หัวเรื่อง :
                                {{data.buckets[3].name ? data.buckets[3].name : ''}}</span>
                            <div *ngFor="let item of data.buckets[3].values">
                                {{item}}
                            </div>
                        </div>
                    </div>
                    <div *ngIf="fieldTable.name === 'bucket5'">
                        <div *ngIf="data.buckets[4]">
                            <span style="font-size: 16px;"
                                *ngIf="data.buckets[4].name && data.buckets[4].name !== ''">หัวเรื่อง :
                                {{data.buckets[4].name ? data.buckets[4].name : ''}}</span>
                            <div *ngFor="let item of data.buckets[4].values">
                                {{item}}
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ng-template>
        </ng-template>
    </ng-template>
</ng-template>