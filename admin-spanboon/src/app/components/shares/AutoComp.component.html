<!--
    @license Spanboon Platform v0.1
    (c) 2020-2021 KaoGeek. http://kaogeek.dev
    License: MIT. https://opensource.org/licenses/MIT
    Author: Americaso <treerayuth.o@absolute.co.th>
-->

<div style="display: flex;">
    <mat-form-field>
        <input #inPut type="text" placeholder="{{title}}" matInput [formControl]="autoCompControl" [matAutocomplete]="autoComplete"
            [readonly]="isDisabled">
        <button mat-button *ngIf="autoComp" matSuffix mat-icon-button aria-label="Clear" (click)="clearAutoComp()">
            <mat-icon>close</mat-icon>
        </button>
        <mat-autocomplete #autoComplete="matAutocomplete" (optionSelected)="selectAutoComp($event.option.value)">
            <mat-option class="mat-option-progress" *ngIf="isLoading">
                <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            </mat-option>
            <ng-container *ngIf="!isLoading">
                <!-- <mat-option *ngFor="let option of filteredOptions | async" [value]="option.name" (click)="selectAutoComp(option)"> -->
                <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                    {{option.name}}
                </mat-option>
            </ng-container>
        </mat-autocomplete>
    </mat-form-field>
</div>